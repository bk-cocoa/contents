---
title: JavaSilver紫本まとめ2
date: 2023-01-11T00:00:00+09:00
draft: true
summary: 変数と配列
tags: [Java,Silver,まとめ,紫本]
katex: math
---
# リテラル
## リテラルの種類
* ソースコードに直接書き込んだ値や、その表記のこと
* 6種類あるよ
    * 整数リテラル
        * 10進数：普通の数字
        * 2進数：頭に`0b`を入れると2進数になる
        * 8進数：先頭に`0`を入れると8進数になる
        * 16進数：先頭に`0x`を入れると16進数になる
    * 浮動小数点リテラル
        * 10進数でも指数でも表示できるよ
    * 文字リテラル
        * シングルクォートで囲む。1文字を表現
    * 文字列リテラル
        * 文字の集合体
        * ダブルクォートで囲む
    * 理論値リテラル
        * True,Falseの値を表現する
    * nullリテラル
        * 「何も参照していない」を表す

## アンダースコアがある数値リテラル
* 可読性を高めるために、カンマの代わりにアンダースコアを使用できるよ
    * 先頭、末尾には使用できない
    * 浮動小数点リテラルにある、小数点の前後には使用できない
    * 2進数の`0b`,16進数の`0x`の途中、前後には使用できない

# 変数や定数の宣言と初期化
## 変数
* データの入れ物
* 名前のことを識別子とか変数名とか呼ぶ
* 識別子には命名ルールがある
    * 一文字目は英字（大文字、小文字）、ドル記号、アンダースコアのみ
    * 2文字目以降は数字も使用可能
    * 予約後は使用不可能
    * 大文字、小文字は区別される
    * 長さ制限は内
    * `null`,`true`,`false`は予約後ではないけどリテラル扱いになるのでNG
## データ型
* どんな値が入るかの宣言
* 変数を用意する際、データ型を指定するよ
* 基本データ型と参照型があるよ
* 基本データ型：
|データ型|意味|サイズ|表現できる値|
|:-:|:-:|:-:|:-:|
|byte型|符号付き整数|8ビット|-128~127|
|short型|符号付き整数|16ビット|-32768~32767|
|int型|符号付き整数|32ビット|$-2^{31}$~$2^{31}-1$|
|long型|符号付き整数|64ビット|$-2^{63}$~$2^{63}-1$|
|float型|浮動小数点数|32ビット|IEEE754に基づく値|
|double型|浮動小数点数|64ビット|IEEE754に基づく値|
|char型|Unicodeで表現できる1文字|16ビット|¥u0000~¥uFFFF|
|boolean型|真偽値|1ビット|true,false|
## 変数宣言と代入
* 変数を用意することを**変数宣言**と呼ぶよ
* その変数に値を格納することを**代入**と呼ぶよ
* `データ型 変数名; // 変数宣言`
* `変数名 = 値; // 変数に値を代入`
```Java:sample.java
int num1;
double d1,d2:
int num2 = 100;
```
* 宣言した変数を使い始める前に、最初に初期値を代入しておくことを変数の初期化と呼ぶ
* 変数の宣言と値の代入は1行で行えるよ
* long型の変数にlong値を代入する場合、リテラルにLをつけるよ
* float型の変数にfloat値を代入する場合には、リテラルにFをつけるよ

## 符号つき整数と浮動小数点数のデフォルトの型
* 符号つき整数のリテラルは、int型がデフォルト
* int型を超える大きさのリテラルはlong型に入れようとするとコンパイルエラーになる
    * `long num = 10000000000` ←これはエラー
    * `long num = 10000000000L` ←これなら通るよ
* 浮動小数点数のリテラルは、double型がデフォルト
    * `float num = 10.0` ←これはエラー
    * `float num = 10.0F` ←これなら通るよ

## 定数
* 変数と違って固定された値
* 書き換え、再代入できないよ
* `final データ型 変数名 = 初期値;`

## 文字列は参照型
* 文字列は参照型データ
* `String str = "Hello";`
* `String name = "田中";`

# 変数のスコープ(有効範囲)
```Java:sample.java
public class Main{
    public static void main(String[] args){
        {
            int x = 100;
            x = 200:
        }
            // x = 300; // ←変数xのスコープ範囲外なのでコンパイルエラー
    }
}
```
```Java:sample.java
public class Main{
    public static void main(String[] args){
        int x = 100;
        x = 200:
    }
    public static void method(){
        // x = 300; // mainメソッドで初期化されているからx変数にアクセスはできないよ（コンパイルエラー）
    }

}
```
# ローカル変数の型推論
## varによる変数宣言
* JDK10より、Local-Variable Tyep Inference（＝ローカル変数方推論）が使えるようになった
* 特定のデータ型を記述するのではなくて、`var`を利用することができるよ！
* `var`は予約後ではないから識別子としては使用可能だよ！
* `int num = 10;`←従来の書き方
* `var num = 10;`←ローカル変数型推論
    * 右辺の値が10だから、numはint型と推論できる
* varが使える所
    * ローカル変数の初期化時
    * 拡張for文内のインデックス
    * 通常for文内で宣言されたローカル変数
    * try-with-resources文内のローカル変数
* varが使えない所
    * メソッドの引数
    * コンストラクタの引数
    * メソッド戻り型
    * フィールド（メンバ変数）
    * catchブロック

# 1次元配列
## 配列とは
* 同じデータ型の値をまとめて扱うよ
* 基本データ型、参照型どっちでも格納可能
* 配列自体は参照型
    * 参照先情報には、配列内に格納された個々のデータや、データの個数とかの情報も含まれる

## 配列の作成
* 1行でかく場合
`データ型[] 配列名 = new データ型 [要素数]`
* 2行で書く場合
`データ型[] 配列名;` ←配列の宣言
`配列名 = new データ型[要素数];` ←領域の確保
* サンプル
```Java sample.java
int[] id;
id = new int[50];

int[] id = new int[50];
```
* 配列は宣言した段階で初期値が設定されるよ

| データ型 | 値 |
|:-:|:-:|
|byte,short,int,long|0|
|float,double|0.0|
|char|¥u0000|
|boolean|false|
|参照型|null|

## 添字(インデックス)
* 0スタート
* Pythonと一緒
* 要素数の取得は`配列名.length;`で可能
* インデックスエラー（配列の要素外へのアクセス）は、実行時エラー
    * コンパイルはできるよ

# 多次元配列
* 3行４列の2次元配列の作り方
```Java sample.java
int[][] array;
array = new int[3][4];

int[][] array = new int[3][4]
```
* indexは0から
* 要素が不揃いでも大丈夫
```Java sample.java
int[][] array = new int[3][];
array[0] = new int[3];
array[1] = new int[5];
array[2] = new int[2];
```


# コマンドライン引数の利用
```Java:test.java
public class Main{
    public static void main(String[] args){
        System.out.println(args[0]);
        System.out.println(args[1]);
        System.out.println(args[2]);
        System.out.println(args[1]+args[2]);
    }
}
```
* 上記コードを実行する
```
$ java Main fdsa 10 20
fdsa
10
20
1020
```
* String型のargs配列に格納されるよ